<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>ã‚„ã£ã¡ã‚ƒã‚“èª•ç”Ÿæ—¥ å‚åŠ äºˆç´„</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
  background:#e8f0ff;
  font-family:"Helvetica","Yu Gothic","Meiryo",sans-serif;
  margin:0;
}

.container{
  max-width:650px;
  margin:30px auto;
  background:white;
  border-radius:14px;
  padding:25px 25px 35px;
  box-shadow:0 0 30px rgba(0,0,0,0.15);
}

.title{
  font-size:22px;
  font-weight:bold;
}

.sub{
  font-size:12px;
  color:#666;
}

/* â”€ æ™‚é–“å¸¯ã‚«ãƒ¼ãƒ‰ â”€ */
.slot{
  border:1px solid #ccc;
  border-radius:10px;
  padding:14px;
  display:flex;
  align-items:center;
  margin-top:12px;
}

.slot span{
  margin-left:10px;
}

.ok{ color:#3090ff; font-size:20px;}
.warn{ color:#d4a000; font-size:22px;}
.ng{ color:#d40000; font-size:24px;}

button.reserve{
  margin-top:18px;
  background:#d40000;
  color:white;
  width:100%;
  border:0;
  padding:16px;
  border-radius:10px;
  font-size:16px;
}

/* â”€ ãƒ¢ãƒ¼ãƒ€ãƒ«èƒŒæ™¯å…±é€š â”€ */
.modalBg{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,0.65);
  display:none;
  justify-content:center;
  align-items:center;
}

/* â”€ æˆåŠŸãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— â”€ */
.popupCard{
  background:white;
  border-radius:12px;
  padding:20px;
  width:300px;
  text-align:center;
}

.popupTitle{
  font-size:16px;
  font-weight:bold;
  line-height:28px;
}

.popupIcon{
  font-size:40px;
  margin:10px 0;
}

.popupTime{
  font-size:13px;
  margin:8px 0 12px;
}

.notice{
  font-size:12px;
  color:#444;
  margin-top:10px;
}

.popupBtn{
  width:100%;
  padding:10px;
  border:1px solid #444;
  border-radius:6px;
  background:white;
}

/* â”€ QR â”€ */
.modal{
  background:white;
  padding:25px;
  border-radius:10px;
  text-align:center;
}

.big-text{
  font-size:20px;
  font-weight:bold;
}

.qrOuter{
  padding:12px;
  border:3px solid #111;
  display:inline-block;
  margin-top:14px;
}

.realQR{
  width:240px;
  height:240px;
  position:relative;
}

.finder{
  width:60px;
  height:60px;
  border:8px solid #000;
  position:absolute;
}
.tl{top:0;left:0;}
.tr{top:0;right:0;}
.bl{bottom:0;left:0;}
</style>
</head>

<body>

<div class="container">

  <div class="title">2025å¹´12æœˆ30æ—¥(ç«)</div>
  <div class="sub">ã‚„ã£ã¡ã‚ƒã‚“èª•ç”Ÿæ—¥ä¼šã®å‚åŠ æ™‚é–“å¸¯ã‚’é¸ã‚“ã§ãã ã•ã„</div>

  <!-- 8æ  -->
  <div class="slot"><input type="radio" name="time" value="18:00"><span class="ok">â—‹</span><span>18:00ã€œ</span></div>
  <div class="slot"><input type="radio" name="time" value="18:20"><span class="warn">â–³</span><span>18:20ã€œ</span></div>
  <div class="slot"><input type="radio" name="time" value="18:40"><span class="ok">â—‹</span><span>18:40ã€œ</span></div>
  <div class="slot"><input type="radio" name="time" value="19:00"><span class="ok">â—‹</span><span>19:00ã€œ</span></div>
  <div class="slot"><input type="radio" name="time" value="19:20"><span class="warn">â–³</span><span>19:20ã€œ</span></div>

  <div class="slot">
    <input type="radio" disabled>
    <span class="ng">Ã—</span>
    <span>19:40ã€œï¼ˆé¸æŠä¸å¯ï¼‰</span>
  </div>

  <div class="slot"><input type="radio" name="time" value="20:00"><span class="ok">â—‹</span><span>20:00ã€œ</span></div>
  <div class="slot"><input type="radio" name="time" value="20:20"><span class="warn">â–³</span><span>20:20ã€œ</span></div>

  <button class="reserve" onclick="reserve()">ã“ã®æ™‚é–“ã§å‚åŠ ã™ã‚‹ â†’</button>
</div>


<!-- â–¼ æˆåŠŸãƒãƒƒãƒ—ã‚¢ãƒƒãƒ— -->
<div id="successPopup" class="modalBg">
  <div class="popupCard">

    <div class="popupTitle">
      ï¼œ ç©ºãæ ç™ºè¦‹ ï¼<br>
      èª•ç”Ÿæ—¥ä¼šã®å‚åŠ äºˆç´„ãŒ<br>
      å®Œäº†ã—ã¾ã—ãŸ
    </div>

    <div class="popupIcon">ğŸ‰ğŸ‚</div>

    <div class="popupTime">
      å‚åŠ æ™‚é–“ï¼š<span id="successTimeText"></span>
    </div>

    <div class="notice">
      ã“ã®ã‚ã¨å…¥å ´ç”¨QRã‚³ãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>
      å½“æ—¥å…¥å ´æ™‚ã«æç¤ºãŒå¿…è¦ã§ã™ã€‚<br>
      å¿…ãšã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’ä¿å­˜ã—ã¦ãã ã•ã„ã€‚
    </div>

    <button class="popupBtn">ã¨ã˜ã‚‹</button>
  </div>
</div>


<!-- â–¼ QR -->
<div id="qrShow" class="modalBg">
  <div class="modal">
    <div class="big-text">å…¥å ´ç”¨QRã‚³ãƒ¼ãƒ‰</div>

    <div class="qrOuter">
      <div class="realQR">
        <div class="finder tl"></div>
        <div class="finder tr"></div>
        <div class="finder bl"></div>

        <canvas id="qrCanvas" width="220" height="220"></canvas>
      </div>
    </div>

    <p>
      ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’ä¿å­˜ã—ã€<br>
      å½“æ—¥ã®å…¥å ´æ™‚ã«æç¤ºã—ã¦ãã ã•ã„ã€‚
    </p>

    <button onclick="closeAll()">ã¨ã˜ã‚‹</button>
  </div>
</div>


<script>

// â”€ äºˆç´„å‡¦ç† â”€
function reserve(){

  let t = document.querySelector("input[name='time']:checked");
  if(!t){
    alert("æ™‚é–“ã‚’é¸ã‚“ã§ãã ã•ã„");
    return;
  }

  let time = t.value;

  setTimeout(()=>{ showSuccess(time); },3000);
}


// â”€ æˆåŠŸè¡¨ç¤º â†’ 10ç§’ â†’ QR â”€
function showSuccess(time){

  document.getElementById("successTimeText").innerText = time;
  document.getElementById("successPopup").style.display="flex";

  setTimeout(()=>{
    document.getElementById("successPopup").style.display="none";
    showQR();
  },10000);
}


// â”€ QRæç”» â”€
function showQR(){

  const qr = document.getElementById("qrCanvas");
  const ctx = qr.getContext("2d");

  ctx.fillStyle="white";
  ctx.fillRect(0,0,220,220);

  ctx.fillStyle="black";

  for(let y=0; y<22; y++){
    for(let x=0; x<22; x++){

      if((x<5 && y<5) || (x>16 && y<5) || (x<5 && y>16)) continue;

      if(Math.random()>0.55){
        ctx.fillRect(x*10, y*10, 9, 9);
      }
    }
  }

  document.getElementById("qrShow").style.display="flex";
}

function closeAll(){
  document.querySelectorAll(".modalBg").forEach(m=>m.style.display="none");
}

</script>

</body>
</html>
