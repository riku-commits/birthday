<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>やっちゃん誕生日会 参加予約</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

body {
    font-family: "Yu Gothic", "メイリオ", sans-serif;
    background: #f5f5f5;
    margin: 0;
}

.header {
    background:#1976d2;
    color:white;
    padding:14px;
    font-size:18px;
}

.container {
    width:90%;
    max-width:700px;
    margin:20px auto;
    background:white;
    border-radius:10px;
    padding:20px;
}

.time-box {
    border:1px solid #ccc;
    border-radius:8px;
    margin:10px 0;
    padding:10px;
    display:flex;
    align-items:center;
    justify-content:space-between;
}

.left {
    display:flex;
    align-items:center;
}

.statusmark {
    font-size:22px;
    width:28px;
    text-align:center;
    margin-right:10px;
}

/* 予約不可はグレーアウト＆選択不可 */
.unavailable {
    opacity:0.4;
}

.unavailable input {
    pointer-events:none;
}

.bigbtn {
    background:#d32f2f;
    color:white;
    width:100%;
    border:none;
    border-radius:6px;
    padding:14px;
    font-size:18px;
    margin-top:20px;
}

.overlay {
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    display:none;
}

.popup {
    background:white;
    width:90%;
    max-width:400px;
    margin:120px auto;
    border-radius:10px;
    padding:20px;
    text-align:center;
}

.closebtn {
    background:#d32f2f;
    color:white;
    border:none;
    width:90%;
    padding:12px;
    border-radius:6px;
    margin-top:10px;
}

</style>

</head>
<body>

<div class="header">
 やっちゃん誕生日会 参加予約
</div>

<div class="container">

<h3>2025年12月30日(火)</h3>
<p>やっちゃん誕生日会／参加時間帯を選んでください</p>

<!-- 予約枠 -->
<div class="time-box">
  <div class="left">
    <div class="statusmark" style="color:#2196f3;">〇</div>
    18:00〜
  </div>
  <input type="radio" name="slot" value="18:00">
</div>

<div class="time-box">
  <div class="left">
    <div class="statusmark" style="color:#2196f3;">〇</div>
    18:20〜
  </div>
  <input type="radio" name="slot" value="18:20">
</div>

<div class="time-box">
  <div class="left">
    <div class="statusmark" style="color:#ff9800;">△</div>
    18:40〜
  </div>
  <input type="radio" name="slot" value="18:40">
</div>

<div class="time-box">
  <div class="left">
    <div class="statusmark" style="color:#ff9800;">△</div>
    19:00〜
  </div>
  <input type="radio" name="slot" value="19:00">
</div>

<div class="time-box unavailable">
  <div class="left">
    <div class="statusmark" style="color:#d32f2f;">×</div>
    19:20〜
  </div>
  <input type="radio" disabled>
</div>

<div class="time-box unavailable">
  <div class="left">
    <div class="statusmark" style="color:#d32f2f;">×</div>
    19:40〜
  </div>
  <input type="radio" disabled>
</div>

<button class="bigbtn" onclick="reserve()">この時間で参加する →</button>

</div>


<!-- モーダル -->
<div class="overlay" id="overlay">
  <div class="popup" id="popupText">
      読み込み中…
  </div>
</div>




<script>

function reserve(){

    let sel = document.querySelector("input[name='slot']:checked");
    if(!sel){
        alert("参加時間を選択してください。");
        return;
    }

    document.getElementById("overlay").style.display="block";

    document.getElementById("popupText").innerHTML =
        "<h3>処理中…</h3><p>通信が混雑しています…</p>";

    setTimeout(()=>{
        
        let r = Math.random()*100;

        if(r<2){
            document.getElementById("popupText").innerHTML =
            "<h3>＜空き枠先着＞</h3>誕生日会の参加予約が<br>確定しました！<br><br><button class='closebtn' onclick='closePop()'>とじる</button>";
        }
        else if(r<27){
            document.getElementById("popupText").innerHTML =
            "定員を超えたため<br>この時間帯は予約できませんでした<br><br><button class='closebtn' onclick='closePop()'>とじる</button>";
        }
        else if(r<52){
            document.getElementById("popupText").innerHTML =
            "誕生日会の参加予約が<br>確保できませんでした<br><br><button class='closebtn' onclick='closePop()'>とじる</button>";
        }
        else if(r<77){
            document.getElementById("popupText").innerHTML =
            "システムエラーが発生しました<br><br><button class='closebtn' onclick='closePop()'>とじる</button>";
        }
        else{
            document.getElementById("popupText").innerHTML =
            "現在アクセスが集中しています<br><br><button class='closebtn' onclick='closePop()'>とじる</button>";
        }

    },4000);

}

function closePop(){
    document.getElementById("overlay").style.display="none";
}

</script>

</body>
</html>
