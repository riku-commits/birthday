<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>EXPO2025 ãƒ‡ã‚¸ã‚¿ãƒ«ãƒã‚±ãƒƒãƒˆé¢¨</title>

<style>
body{
  margin:0;
  font-family:"Noto Sans JP",sans-serif;
  background:#f5f5f5;
}

/* ç”»é¢ */
.wrapper{
  max-width:480px;
  margin:0 auto;
  background:#fff;
  min-height:100vh;
  position:relative;
  padding-bottom:120px;
}

/* è¦‹å‡ºã— */
.header{
  padding:14px;
  background:#005BAC;
  color:#fff;
  font-size:16px;
}

/* æ™‚é–“å¸¯ãƒªã‚¹ãƒˆ */
.slot{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px;
  margin:8px 14px;
  border-radius:12px;
  border:2px solid #ccc;
}

.icon{
  font-size:22px;
  width:34px;
}

.time{
  flex:1;
  text-align:center;
  font-size:17px;
}

/* ãƒ¢ãƒ¼ãƒ€ãƒ« */
.modal-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.45);
  display:none;
  justify-content:center;
  align-items:center;
}

.modal-overlay.show{display:flex;}

.expo-modal{
  width:88%;
  max-width:420px;
  background:#fff;
  border-radius:12px;
  border:4px solid #000;
  padding:28px 20px 32px;
  position:relative;
  text-align:center;
}

.close-btn{
  position:absolute;
  right:14px;
  top:10px;
  font-size:24px;
  border:none;
  background:none;
}

.modal-title{
  font-size:18px;
  font-weight:700;
  margin-bottom:16px;
  line-height:1.6;
}

.modal-icon{
  font-size:60px;
  margin:14px 0;
}

.modal-info{font-size:16px;margin-bottom:26px;}
.modal-text{font-size:15px;margin-bottom:26px;}

.expo-btn{
  width:90%;
  height:54px;
  border:3px solid #000;
  border-radius:6px;
  font-size:18px;
  background:#fff;
}

.expo-btn.red{
  border-color:#d00;
}

/* å¾…æ©Ÿç”»é¢ */
.waiting{
  text-align:center;
  padding:30px;
  display:none;
}

.bar{
  width:85%;
  margin:18px auto;
  height:22px;
  background:#ddd;
  border-radius:8px;
  overflow:hidden;
}

.fill{
  width:0%;
  height:100%;
  background:#1cb841;
}

</style>
</head>

<body>

<div class="wrapper">

<div class="header">EXPO2025 ãƒ‡ã‚¸ã‚¿ãƒ«ãƒã‚±ãƒƒãƒˆ</div>

<!-- æ™‚é–“å¸¯ãƒªã‚¹ãƒˆ -->
<div id="main">

<div class="slot" onclick="clickSlot('11:00-11:20')">
  <div class="icon">â­•</div>
  <div class="time">11:00â€“11:20</div>
</div>

<div class="slot" onclick="clickSlot('11:20-11:40')">
  <div class="icon">ğŸ”º</div>
  <div class="time">11:20â€“11:40</div>
</div>

<div class="slot" onclick="clickSlot('11:40-12:00')">
  <div class="icon">âŒ</div>
  <div class="time">11:40â€“12:00</div>
</div>

<div class="slot" onclick="clickSlot('12:00-12:20')">
  <div class="icon">â­•</div>
  <div class="time">12:00â€“12:20</div>
</div>

<div class="slot" onclick="clickSlot('12:20-12:40')">
  <div class="icon">ğŸ”º</div>
  <div class="time">12:20â€“12:40</div>
</div>

<div class="slot" onclick="clickSlot('12:40-13:00')">
  <div class="icon">âŒ</div>
  <div class="time">12:40â€“13:00</div>
</div>

</div>

<!-- å¾…æ©Ÿç”»é¢ -->
<div class="waiting" id="wait">
  <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/46/Expo_2025_Logo.svg/512px-Expo_2025_Logo.svg.png" width="120"><br><br>
  <b>é †ç•ªã«ã”æ¡ˆå†…ã—ã¦ãŠã‚Šã¾ã™ã€‚</b><br><br>
  ç¾åœ¨ã‚µã‚¤ãƒˆãŒå¤§å¤‰æ··é›‘ã—ã¦ãŠã‚Šã¾ã™ã€‚<br>
  ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„ã€‚<br><br>

  <div class="bar">
    <div class="fill" id="fill"></div>
  </div>

  <div id="waitText">å¾…ã¡æ™‚é–“ã®ç›®å®‰ï¼š1åˆ†</div>
</div>

</div>

<!-- ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div class="modal-overlay" id="modal">
  <div class="expo-modal" id="modalBox">
    <button class="close-btn" onclick="closeModal()">âœ•</button>
    <p class="modal-title" id="modalTitle"></p>
    <div class="modal-icon">ğŸ“…ğŸ•’</div>
    <p class="modal-info" id="modalInfo"></p>
    <p class="modal-text" id="modalText"></p>
    <button class="expo-btn" id="modalBtn" onclick="closeModal()">ã¨ã˜ã‚‹</button>
  </div>
</div>

<script>
function clickSlot(time){

  const r = Math.random();

  // 10% â†’ å¾…æ©Ÿç”»é¢
  if(r < 0.1){
    showWait(time);
    return;
  }

  // 30% â†’ å¤±æ•—
  if(r < 0.4){
    showFail();
    return;
  }

  // 60% â†’ æˆåŠŸ
  showSuccess(time);
}

function showSuccess(time){
  showModal(
    "ï¼œ ç©ºãæ å…ˆç€ ï¼<br>ãƒ‘ãƒ“ãƒªã‚ªãƒ³/ã‚¤ãƒ™ãƒ³ãƒˆãŒäºˆç´„ã•ã‚Œã¾ã—ãŸ",
    "ãƒ–ãƒ«ãƒ¼ã‚ªãƒ¼ã‚·ãƒ£ãƒ³ãƒ‰ãƒ¼ãƒ  " + time,
    ""
  );
}

function showFail(){
  showModal(
    "å®šå“¡ã‚’è¶…ãˆãŸãŸã‚ã€ã”å¸Œæœ›ã®<br>æ™‚é–“å¸¯ã¯é¸æŠã§ãã¾ã›ã‚“ã§ã—ãŸ",
    "",
    "ãŠæ‰‹æ•°ã§ã™ãŒã€æ¥å ´æ—¥æ™‚ã‚’å†åº¦é¸æŠã—ã¦ãã ã•ã„ã€‚",
    true
  );
}

function showModal(t, info, text, red=false){
  document.getElementById("modalTitle").innerHTML = t;
  document.getElementById("modalInfo").innerHTML = info;
  document.getElementById("modalText").innerHTML = text;

  const btn = document.getElementById("modalBtn");
  if(red){
    btn.classList.add("red");
  }else{
    btn.classList.remove("red");
  }

  document.getElementById("modal").classList.add("show");
}

function closeModal(){
  document.getElementById("modal").classList.remove("show");
}

/* å¾…æ©Ÿç”»é¢ */
function showWait(time){
  document.getElementById("main").style.display="none";
  document.getElementById("wait").style.display="block";

  let p = 0;
  const bar = document.getElementById("fill");

  const timer = setInterval(()=>{
    p+=5;
    bar.style.width = p+"%";
    if(p>=100){
      clearInterval(timer);
      document.getElementById("wait").style.display="none";
      document.getElementById("main").style.display="block";

      // æœ€çµ‚çš„ã«ã©ã¡ã‚‰ã‹
      Math.random()<0.5 ? showSuccess(time) : showFail();
    }
  },200);
}
</script>

</body>
</html>
